<section class="section-hero overlay inner-page bg-image" style="background-image: url('assets/images/hero_1.jpg');" id="home-section">
  <div class="container">
    <div class="row">
      <div class="col-md-7">
        <h1 class="text-white font-weight-bold">Sign Up/Login</h1>
        <div class="custom-breadcrumbs">
          <a href="#">Home</a> <span class="mx-2 slash">/</span>
          <span class="text-white"><strong>Log In</strong></span>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="site-section">
  <div class="container">
    <!-- Success/Error messages -->
    <div class="row">
      <div class="col-12">
        <div *ngIf="successMessage" class="alert alert-success alert-dismissible fade show" role="alert">
          {{ successMessage }}
          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div *ngIf="errorMessage" class="alert alert-danger alert-dismissible fade show" role="alert">
          {{ errorMessage }}
          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
      </div>
    </div>

    <div class="row">
      <!-- Register Form -->
      <div class="col-lg-6 mb-5">
        <h2 class="mb-4">Sign Up To JobBoard</h2>
        <form [formGroup]="registerForm" (ngSubmit)="onRegister()" class="p-4 border rounded">
          <!-- Username -->
          <div class="row form-group">
            <div class="col-md-12 mb-3 mb-md-0">
              <label class="text-black" for="signup-username">Username</label>
              <input type="text" id="signup-username" formControlName="username" class="form-control" placeholder="Username">
              <div *ngIf="hasError(registerForm, 'username', 'required')" class="text-danger">
                Username is required
              </div>
              <div *ngIf="hasError(registerForm, 'username', 'minlength')" class="text-danger">
                Username must be at least 3 characters long
              </div>
            </div>
          </div>

          <!-- Email -->
          <div class="row form-group">
            <div class="col-md-12 mb-3 mb-md-0">
              <label class="text-black" for="signup-email">Email</label>
              <input type="email" id="signup-email" formControlName="email" class="form-control" placeholder="Email address">
              <div *ngIf="hasError(registerForm, 'email', 'required')" class="text-danger">
                Email is required
              </div>
              <div *ngIf="hasError(registerForm, 'email', 'email')" class="text-danger">
                Please enter a valid email address
              </div>
            </div>
          </div>

          <!-- First Name -->
          <div class="row form-group">
            <div class="col-md-12 mb-3 mb-md-0">
              <label class="text-black" for="signup-firstName">First Name</label>
              <input type="text" id="signup-firstName" formControlName="firstName" class="form-control" placeholder="First Name">
              <div *ngIf="hasError(registerForm, 'firstName', 'required')" class="text-danger">
                First name is required
              </div>
            </div>
          </div>

          <!-- Last Name -->
          <div class="row form-group">
            <div class="col-md-12 mb-3 mb-md-0">
              <label class="text-black" for="signup-lastName">Last Name</label>
              <input type="text" id="signup-lastName" formControlName="lastName" class="form-control" placeholder="Last Name">
              <div *ngIf="hasError(registerForm, 'lastName', 'required')" class="text-danger">
                Last name is required
              </div>
            </div>
          </div>

          <!-- Phone Number -->
          <div class="row form-group">
            <div class="col-md-12 mb-3 mb-md-0">
              <label class="text-black" for="signup-phone">Phone Number</label>
              <input type="text" id="signup-phone" formControlName="phoneNumber" class="form-control" placeholder="Phone Number">
              <div *ngIf="hasError(registerForm, 'phoneNumber', 'required')" class="text-danger">
                Phone number is required
              </div>
              <div *ngIf="hasError(registerForm, 'phoneNumber', 'pattern')" class="text-danger">
                Please enter a valid phone number
              </div>
            </div>
          </div>

          <!-- Password -->
          <div class="row form-group">
            <div class="col-md-12 mb-3 mb-md-0">
              <label class="text-black" for="signup-password">Password</label>
              <input type="password" id="signup-password" formControlName="password" class="form-control" placeholder="Password">
              <div *ngIf="hasError(registerForm, 'password', 'required')" class="text-danger">
                Password is required
              </div>
              <div *ngIf="hasError(registerForm, 'password', 'minlength')" class="text-danger">
                Password must be at least 6 characters long
              </div>
            </div>
          </div>

          <!-- Confirm Password -->
          <div class="row form-group mb-4">
            <div class="col-md-12 mb-3 mb-md-0">
              <label class="text-black" for="signup-repassword">Re-Type Password</label>
              <input type="password" id="signup-repassword" formControlName="confirmPassword" class="form-control" placeholder="Re-type Password">
              <div *ngIf="hasError(registerForm, 'confirmPassword', 'required')" class="text-danger">
                Please confirm your password
              </div>
              <div *ngIf="registerForm.get('confirmPassword')?.hasError('passwordMismatch')" class="text-danger">
                Passwords do not match
              </div>
            </div>
          </div>

          <!-- Submit button -->
          <div class="row form-group">
            <div class="col-md-12">
              <button type="submit" [disabled]="registerForm.invalid || loading" class="btn px-4 btn-primary text-white">
                <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
                Sign Up
              </button>
            </div>
          </div>
        </form>
      </div>

      <!-- Login Form -->
      <div class="col-lg-6">
        <h2 class="mb-4">Log In To JobBoard</h2>
        <form [formGroup]="loginForm" (ngSubmit)="onLogin()" class="p-4 border rounded">
          <!-- Email -->
          <div class="row form-group">
            <div class="col-md-12 mb-3 mb-md-0">
              <label class="text-black" for="login-email">Email</label>
              <input type="email" id="login-email" formControlName="email" class="form-control" placeholder="Email address">
              <div *ngIf="hasError(loginForm, 'email', 'required')" class="text-danger">
                Email is required
              </div>
              <div *ngIf="hasError(loginForm, 'email', 'email')" class="text-danger">
                Please enter a valid email address
              </div>
            </div>
          </div>

          <!-- Password -->
          <div class="row form-group mb-4">
            <div class="col-md-12 mb-3 mb-md-0">
              <label class="text-black" for="login-password">Password</label>
              <input type="password" id="login-password" formControlName="password" class="form-control" placeholder="Password">
              <div *ngIf="hasError(loginForm, 'password', 'required')" class="text-danger">
                Password is required
              </div>
              <div *ngIf="hasError(loginForm, 'password', 'minlength')" class="text-danger">
                Password must be at least 6 characters long
              </div>
            </div>
          </div>

          <!-- Submit button -->
          <div class="row form-group">
            <div class="col-md-12">
              <button type="submit" [disabled]="loginForm.invalid || loading" class="btn px-4 btn-primary text-white">
                <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
                Log In
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</section>
